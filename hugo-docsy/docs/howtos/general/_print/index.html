<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.85.0" /><link rel="canonical" type="text/html" href="https://gchq.github.io/stroom-docs/hugo-docsy/docs/howtos/general/">
<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="shortcut icon" href="/stroom-docs/hugo-docsy/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/stroom-docs/hugo-docsy/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/stroom-docs/hugo-docsy/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/stroom-docs/hugo-docsy/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/stroom-docs/hugo-docsy/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/stroom-docs/hugo-docsy/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/stroom-docs/hugo-docsy/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/stroom-docs/hugo-docsy/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/stroom-docs/hugo-docsy/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/stroom-docs/hugo-docsy/favicons/android-192x192.png" sizes="192x192">

<title>General | Stroom</title>
<meta name="description" content="A Stroom example site"><meta property="og:title" content="General" />
<meta property="og:description" content="General How Tos for using Stroom.
" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://gchq.github.io/stroom-docs/hugo-docsy/docs/howtos/general/" /><meta property="og:site_name" content="Stroom" />

<meta itemprop="name" content="General">
<meta itemprop="description" content="General How Tos for using Stroom.
"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="General"/>
<meta name="twitter:description" content="General How Tos for using Stroom.
"/>




<link rel="preload" href="/stroom-docs/hugo-docsy/scss/main.min.2e50886925a7596d32924141819a00d04466b89d9629efd64108b8c163430fca.css" as="style">
<link href="/stroom-docs/hugo-docsy/scss/main.min.2e50886925a7596d32924141819a00d04466b89d9629efd64108b8c163430fca.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>



<link rel="stylesheet" href="/stroom-docs/hugo-docsy/css/prism.css"/>




  </head>
  <body class="td-section">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/stroom-docs/hugo-docsy/">
		<span class="navbar-logo"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="110.61089" height="30.000004" viewBox="0 0 88.488641 23.999957" id="svg2" inkscape:version="0.91 r13725" sodipodi:docname="logo.svg"><defs id="defs20"/><sodipodi:namedview pagecolor="#989898" bordercolor="#666666" borderopacity="1" objecttolerance="10" gridtolerance="10" guidetolerance="10" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-width="1920" inkscape:window-height="1137" id="namedview18" showgrid="false" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0" inkscape:zoom="5.5951814" inkscape:cx="55.451414" inkscape:cy="16.275348" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" inkscape:current-layer="svg2"/><g id="g4150" style="opacity:.97000002" transform="matrix(0.03883584,0,0,0.03883584,0,-3.1155874e-4)"><path id="path6" d="M121.99991 205.98497C54.999958 205.98497.0 259.98493.0 327.98487c0 66.99994 54.999958 121.99989 121.99991 121.99989h167.99987c24.99998.0 44.99996 20.99998 44.99996 44.99996.0 24.99998-19.99998 44.99996-44.99996 44.99996H109.20929C65.984126 553.87219 27.100843 581.57313.01093599 617.98462H289.99978c66.99994.0 121.99991-54.99996 121.99991-122.9999.0-66.99994-54.99997-121.99989-121.99991-121.99989H121.99991c-24.999984.0-44.999969-19.99999-44.999969-44.99996.0-24.99998 19.999985-44.99996 44.999969-44.99996h228.79045c26.9905-35.88325 65.47093-63.18547 108.21554-76.99994H121.99991z" style="fill:#fff" inkscape:connector-curvature="0"/><path id="path8" d="M601.44485-.00077860649C572.6583 8.3697982 546.49491 22.822962 524.44491 41.902305V205.78969l.002.19528h-.002c-65.11 48e-5-123.03145 30.0199-160.74675 76.99994h160.74675v334.99971h76.99994V282.98491h144.85298c27.16134-36.05885 65.96411-63.39275 109.02184-76.99994H601.44485v-205.98574860649z" style="fill:#fff" inkscape:connector-curvature="0"/><path id="path10" d="m919.42586 205.98497c-113.99519.0-205.99537 92.00648-206.00296 205.99982-15e-5 68.67178.0 137.32749.0 205.99983h77.99994c-.012-68.6493.0176-137.46869.0-205.99983.0846-70.92785 57.05747-128.99988 128.00462-128.99988 5.28623.0 10.49823.32864 15.62183.95311 18.2219-24.51229 41.78461-45.0838 68.42501-60.15146-25.65065-11.43799-54.08662-17.80159-84.04684-17.80159z" style="fill:#fff" inkscape:connector-curvature="0"/><path id="path12" d="m1109.4153 205.98457c-113.99994.0-205.99983 91.99993-205.99983 205.99984.0 112.9999 91.99989 205.9998 205.99983 205.9998 114 0 205.9999-92.9999 205.9999-205.9998.0-113.99991-91.9999-205.99984-205.9999-205.99984zm0 333.99974c-70.9999.0-128.99994-56.99996-128.99994-127.9999.0-70.99995 58.00004-128.9999 128.99994-128.9999 71 0 128.9999 57.99995 128.9999 128.9999.0 70.99994-57.9999 127.9999-128.9999 127.9999z" style="fill:#fff" inkscape:connector-curvature="0"/><path id="path14" d="m1444.4737 205.98457c-113.9999.0-205.9998 91.99993-205.9998 205.99984.0 112.9999 91.9999 205.9998 205.9998 205.9998s205.9999-92.9999 205.9999-205.9998c0-113.99991-92-205.99984-205.9999-205.99984zm0 333.99974c-70.9999.0-128.9999-56.99996-128.9999-127.9999.0-70.99995 58-128.9999 128.9999-128.9999 71 0 128.9999 57.99995 128.9999 128.9999.0 70.99994-57.9999 127.9999-128.9999 127.9999z" style="fill:#fff" inkscape:connector-curvature="0"/><path id="path16" d="m1738.5308 379.98447c0-53 43-97 95.9999-97 53 0 97 44 97 97v237.9997h76.9999v-237.9997c0-53 43-97 96.9999-97 53 0 95.9999 44 95.9999 97v237.9997h77v-237.9997c0-96-77-173.9999-172.9999-173.9999-54.9999.0-103.9999 24.99998-135.9999 64.99995-31.9999-39.99997-79.9999-64.99995-134.9999-64.99995-95.9999.0-173.9998 77.9999-173.9998 173.9999v237.9997h77.9999z" style="fill:#fff" inkscape:connector-curvature="0"/></g></svg></span><span class="text-uppercase font-weight-bold">Stroom</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/stroom-docs/hugo-docsy/about/" ><span>About</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link active" href="/stroom-docs/hugo-docsy/docs/" ><span class="active">Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/stroom-docs/hugo-docsy/news/" ><span>News / Releases</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/stroom-docs/hugo-docsy/community/" ><span>Community</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/stroom-docs/hugo-docsy/docs/style-guide/" ><span>Style Guide (DRAFT)</span></a>
			</li>
			
			
			<li class="nav-item dropdown d-none d-lg-block">
				<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	Stroom Versions
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="https://gchq.github.io/stroom-docs/hugo-docsy/">7.1</a>
	
	<a class="dropdown-item" href="https://gchq.github.io/stroom-docs/hugo-docsy/">7.0</a>
	
	<a class="dropdown-item" href="https://gchq.github.io/stroom-docs/">Legacy</a>
	
</div>

			</li>
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">



<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/stroom-docs/hugo-docsy/offline-search-index.2a119518f3dd82ed9dd74832e9b47e8d.json"
  data-offline-search-base-href="/"
  data-offline-search-max-results="50"
>

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="/stroom-docs/hugo-docsy/docs/howtos/general/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">General</h1>
<div class="lead">General How Tos for using Stroom.</div>




    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-bda32d7256f308042de9aa5e35facc20">Feed Management</a></li>


    
  
    
    
	
<li>2: <a href="#pg-539a05846ccfc6ea9aaa02403d8d4be0">Raw Source Tracking</a></li>


    
  
    
    
	
<li>3: <a href="#pg-591a4b717a58b789a35c85adbace1b0c">Task Management</a></li>


    
  

    </ul>


<div class="content">
      
</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-bda32d7256f308042de9aa5e35facc20">1 - Feed Management</h1>
    <div class="lead">This HOWTO demonstrates how to manage feeds.</div>
	<p>This HOWTO demonstrates how to manage
<a href="../../user-guide/feeds.md" title="Stroom Feeds">Feeds</a></p>
<h2 id="assumptions">Assumptions</h2>
<ul>
<li>All Sections</li>
<li>an account with the <code>Administrator</code> Application <a href="../../user-guide/roles.md" title="Stroom Application Permissions">Permission</a> is currently logged in.</li>
</ul>
<h3 id="creation-of-an-event-feed">Creation of an Event Feed</h3>
<p>We will be creating an Event Feed with the name <code>TEST-FEED-V1_0</code>.</p>
<p>Once you have logged in, move the cursor to the <strong>System</strong> folder within the <code>Explorer</code> tab and select it.</p>
<p><img src="../resources/UI-CreateFeed-00.png" alt="Stroom UI Create Feed - System Selected" title="Stroom UI Create Feed - System selected"></p>
<p>Once selected, <em>right click</em> to bring up the <code>New Item</code> selection sub-menu. By selecting the <strong>System</strong> folder we are
requesting any  <em>new</em> item created to be placed within it.</p>
<p><img src="../resources/UI-CreateFeed-01.png" alt="Stroom UI Create Feed - New Item Sub-menu" title="Stroom UI Create Feed - New item sub-menu"></p>
<p>Now move the cursor to the <em>Feed</em> sub-item
<img src="../resources/icons/feedItem.png" alt="Stroom UI FeedItem" title="Stroom UI FeedItem">
and select it. You will be presented with a <code>New Feed</code> configuration window.</p>
<p><img src="../resources/UI-CreateFeed-02.png" alt="Stroom UI Create Feed - New Feed Configuration" title="Stroom UI Create Feed - New feed configuration window"></p>
<p>You will note that the <strong>System</strong> folder has already been selected as the <em>parent group</em> and all we need to do is enter our feed&rsquo;s name in the <strong>Name:</strong> entry box</p>
<p><img src="../resources/UI-CreateFeed-03.png" alt="Stroom UI Create Feed - New Feed Configuration named" title="Stroom UI Create Feed - New feed configuration window enter name"></p>
<p>On pressing
<img src="../resources/icons/buttonOk.png" alt="Stroom UI OkButton" title="Stroom UI OkButton">
we are presented with the <code>Feed</code> tab for our new feed. The tab is labelled with the feed name <code>TEST-FEED-V1_0</code>.</p>
<p><img src="../resources/UI-CreateFeed-04.png" alt="Stroom UI Create Feed - New Feed Tab" title="Stroom UI Create Feed - New feed tab">.</p>
<p>We will leave the definitions of the Feed attributes for the present, but we <em>will</em> enter a <strong>Description:</strong> for our feed
as we should <em>ALWAYS</em> do this fundamental tenet of data management - document the data. We will use
the description of &lsquo;<em>Feed for installation validation only. No data value</em>&rsquo;.</p>
<p><img src="../resources/UI-CreateFeed-05.png" alt="Stroom UI Create Feed - New Feed Tab with Description" title="Stroom UI Create Feed - New feed tab with Description">.</p>
<p>One should note that the <code>Feed</code> tab as been marked as having unsaved changes. This is indicated by the asterisk
character <code>*</code> between the <em>Feed</em> icon <img src="../resources/icons/feed.png" alt="Feed" title="Feed"> and the name of the feed <code>TEST-FEED-V1_0</code>.
We can save the changes to our feed by pressing the <em>Save</em> icon <img src="../resources/icons/save.png" alt="Save" title="Save"> in
the top left of the <code>TEST-FEED-V1_0</code> tab. At this point one should notice two things, the first is that the asterisk
has disappeared from the <code>Feed</code> tab and the <em>Save</em> icon <img src="../resources/icons/save.png" alt="Save" title="Save"> is <em>ghosted</em>.</p>
<p><img src="../resources/UI-CreateFeed-06.png" alt="Stroom UI Create Feed - New Feed Tab with Description saved" title="Stroom UI Create Feed - New feed tab with description saved">.</p>
<h3 id="folder-structure-for-event-sources">Folder Structure for Event Sources</h3>
<p>In order to simplify the management of multiple event sources being processed by Stroom, it is suggested that an Event Source folder is created at the root of the <strong>System</strong> folder in the <code>Explorer</code> tab.</p>
<p>This can be achived by moving the cursor to the <strong>System</strong> folder within the <code>Explorer</code> tabe and select it. Once selected, <em>right click</em> to bring up the <code>New Item</code> selection sub-menu.</p>
<p><img src="../resources/UI-EventSources-00.png" alt="Stroom UI Create Folder - New Item Sub-menu" title="Stroom UI Create Folder - New item sub-menu"></p>
<p>Now move the cursor to the <em>Folder</em> sub-item
<img src="../resources/icons/folderItem.png" alt="Stroom UI FolderItem" title="Stroom UI FolderItem">
and select it. You will be presented with a <code>New Folder</code> configuration window.</p>
<p><img src="../resources/UI-EventSources-01.png" alt="Stroom UI Create Folder - New Folder Configuration" title="Stroom UI Create Folder - New folder configuration window"></p>
<p>You will note that the <strong>System</strong> folder has already been selected as the <em>parent group</em> and all we need to do is enter our folders&rsquo;s name in the <strong>Name:</strong> entry box</p>
<p><img src="../resources/UI-EventSources-02.png" alt="Stroom UI Create Folder - New Folder Configuration name" title="Stroom UI Create Folder - New folder configuration window enter name"></p>
<p>On pressing
<img src="../resources/icons/buttonOk.png" alt="Stroom UI OkButton" title="Stroom UI OkButton">
we are presented with the <code>Folder</code> tab for our new folder. The tab is labelled with the folder name <code>Event Sources</code>.</p>
<p><img src="../resources/UI-EventSources-03.png" alt="Stroom UI Create Folder - New Folder Tab" title="Stroom UI Create Folder - New folder tab">.</p>
<p>You will also note that the <code>Explorer</code> tab has displayed the <strong>Event Sources</strong> folder in its display.</p>
<h3 id="create-folder-for-specific-event-source">Create Folder for specific Event Source</h3>
<p>In order to manage all artefacts of a given Event Source (aka <code>Feed</code>), one would create an appropriately named sub-folder within the <strong>Event Sources</strong> folder structure.</p>
<p>In this example, we will create one for a BlueCoat Proxy <code>Feed</code>.</p>
<p>As we may eventually have multiple proxy event sources, we will first create a <strong>Proxy</strong> folder in the <strong>Event Sources</strong> before creating the desired <strong>BlueCoat</strong> folder that will hold the processing components.</p>
<p>So, move the cusor to the <strong>Event Sources</strong> folder on the <code>Explorer</code> tab, select it and then <em>right click</em> to bring up the <code>New Item</code> selection sub-menu and move the cursor to the <em>Folder</em> sub-item
<img src="../resources/icons/folderItem.png" alt="Stroom UI FolderItem" title="Stroom UI FolderItem">
and select it. You will be presented with a <code>New Folder</code> configuration window.</p>
<p>Enter <strong>Proxy</strong> as the folder <strong>Name:</strong></p>
<p><img src="../resources/UI-EventSources-04.png" alt="Stroom UI Create Folder - New Sub Folder Configuration" title="Stroom UI Create Folder - New sub folder configuration window"></p>
<p>and press the <img src="../resources/icons/buttonOk.png" alt="Stroom UI OkButton" title="Stroom UI OkButton">.</p>
<p>At this you will be presented with a new <code>Folder</code> tab for the new sub-folder and we note that it has been added below the <strong>Event Sources</strong> folder in the <code>Explorer</code> tab</p>
<p><img src="../resources/UI-EventSources-05.png" alt="Stroom UI Create Folder - New Sub Folder Tab" title="Stroom UI Create Folder - New sub folder tab">.</p>
<p>Repeat this process to create the desired <strong>BlueCoat</strong> sub-folder with the result</p>
<p><img src="../resources/UI-EventSources-06.png" alt="Stroom UI Create Folder - New BlueCoat Sub Folder Tab" title="Stroom UI Create Folder - New BlueCoat sub folder tab">.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-539a05846ccfc6ea9aaa02403d8d4be0">2 - Raw Source Tracking</h1>
    <div class="lead">How to link every Event back to the Raw log</div>
	<p>Stroom v6.1 introduced a new feature (<em>stroom:source()</em>) to allow a translation developer to obtain positional details of the source file that is currently being processed.
Using the positional information it is possible to tag Events with sufficient details to link back to the Raw source.</p>
<h2 id="assumptions">Assumptions</h2>
<ol>
<li>You have a working pipeline that processes logs into Events.</li>
<li>Events are indexed</li>
<li>You have a Dashboard uses a Search Extraction pipeline.</li>
</ol>
<h2 id="steps">Steps</h2>
<ol>
<li>Create a new XSLT called Source Decoration containing the following:</li>
</ol>
<pre><code class="language-xml">&lt;xsl:stylesheet xpath-default-namespace=&quot;event-logging:3&quot; xmlns:sm=&quot;stroom-meta&quot; xmlns=&quot;event-logging:3&quot; xmlns:rec=&quot;records:2&quot; xmlns:stroom=&quot;stroom&quot;  version=&quot;3.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;
  &lt;xsl:template match=&quot;@*|node()&quot;&gt;
    &lt;xsl:copy&gt;
      &lt;xsl:apply-templates select=&quot;@*|node()&quot; /&gt;
    &lt;/xsl:copy&gt;
  &lt;/xsl:template&gt;
  &lt;xsl:template match=&quot;Event/Meta[not(sm:source)]&quot;&gt;
    &lt;xsl:copy&gt;
      &lt;xsl:apply-templates /&gt;
      &lt;xsl:copy-of select=&quot;stroom:source()&quot; /&gt;
    &lt;/xsl:copy&gt;
  &lt;/xsl:template&gt;
  &lt;xsl:template match=&quot;Event[not(Meta)]&quot;&gt;
    &lt;xsl:copy&gt;
      &lt;xsl:element name=&quot;Meta&quot;&gt;
        &lt;xsl:copy-of select=&quot;stroom:source()&quot; /&gt;
      &lt;/xsl:element&gt;
      &lt;xsl:apply-templates /&gt;
    &lt;/xsl:copy&gt;
  &lt;/xsl:template&gt;
&lt;/xsl:stylesheet&gt;
</code></pre>
<p>This XSLT will add or augment the Meta section of the Event with the source details.</p>
<ol>
<li>Insert a new XSLT filter into your translation pipeline after your translation filter and set it to the XSLT created above.</li>
<li>Reprocess the Events through the modified pipeline, also ensure your Events are indexed.</li>
<li>Amend the translation performed by the Extraction pipeline to include the new data items that represent the source position data. Add the following to the XSLT:</li>
</ol>
<pre><code class="language-xml">&lt;xsl:element name=&quot;data&quot;&gt;
  &lt;xsl:attribute name=&quot;name&quot;&gt;
    &lt;xsl:text&gt;src-id&lt;/xsl:text&gt;
  &lt;/xsl:attribute&gt;
  &lt;xsl:attribute name=&quot;value&quot; select=&quot;Meta/sm:source/sm:id&quot; /&gt;
&lt;/xsl:element&gt;
&lt;xsl:element name=&quot;data&quot;&gt;
  &lt;xsl:attribute name=&quot;name&quot;&gt;
    &lt;xsl:text&gt;src-partNo&lt;/xsl:text&gt;
  &lt;/xsl:attribute&gt;
  &lt;xsl:attribute name=&quot;value&quot; select=&quot;Meta/sm:source/sm:partNo&quot; /&gt;
&lt;/xsl:element&gt;
&lt;xsl:element name=&quot;data&quot;&gt;
  &lt;xsl:attribute name=&quot;name&quot;&gt;
    &lt;xsl:text&gt;src-recordNo&lt;/xsl:text&gt;
  &lt;/xsl:attribute&gt;
  &lt;xsl:attribute name=&quot;value&quot; select=&quot;Meta/sm:source/sm:recordNo&quot; /&gt;
&lt;/xsl:element&gt;
&lt;xsl:element name=&quot;data&quot;&gt;
  &lt;xsl:attribute name=&quot;name&quot;&gt;
    &lt;xsl:text&gt;src-lineFrom&lt;/xsl:text&gt;
  &lt;/xsl:attribute&gt;
  &lt;xsl:attribute name=&quot;value&quot; select=&quot;Meta/sm:source/sm:lineFrom&quot; /&gt;
&lt;/xsl:element&gt;
&lt;xsl:element name=&quot;data&quot;&gt;
  &lt;xsl:attribute name=&quot;name&quot;&gt;
    &lt;xsl:text&gt;src-colFrom&lt;/xsl:text&gt;
  &lt;/xsl:attribute&gt;
  &lt;xsl:attribute name=&quot;value&quot; select=&quot;Meta/sm:source/sm:colFrom&quot; /&gt;
&lt;/xsl:element&gt;
&lt;xsl:element name=&quot;data&quot;&gt;
  &lt;xsl:attribute name=&quot;name&quot;&gt;
    &lt;xsl:text&gt;src-lineTo&lt;/xsl:text&gt;
  &lt;/xsl:attribute&gt;
  &lt;xsl:attribute name=&quot;value&quot; select=&quot;Meta/sm:source/sm:lineTo&quot; /&gt;
&lt;/xsl:element&gt;
&lt;xsl:element name=&quot;data&quot;&gt;
  &lt;xsl:attribute name=&quot;name&quot;&gt;
    &lt;xsl:text&gt;src-colTo&lt;/xsl:text&gt;
  &lt;/xsl:attribute&gt;
  &lt;xsl:attribute name=&quot;value&quot; select=&quot;Meta/sm:source/sm:colTo&quot; /&gt;
&lt;/xsl:element&gt;
</code></pre>
<ol>
<li>Open your dashboard, now add the following custom fields to your table : <code>${src-id}, ${src-partNo}, ${src-recordNo}, ${src-lineFrom}, ${src-lineTo}, ${src-colFrom}, ${src-colTo}</code></li>
<li>Now add a New Text Window to your Dashboard, and configure it as below:
<img src="../resources/HT-RawSourceTextWindow.png" alt="&ldquo;TextWindow Config&rdquo;" title="TextWindow Config"></li>
<li>You can also add a column to the table that will open a data window showing the source.
Add a custom column with the following expression:</li>
</ol>
<pre><code>data('Raw Log',${src-id},${src-partNo},'',${src-lineFrom},${src-colFrom},${src-lineTo},${src-colTo})
</code></pre>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-591a4b717a58b789a35c85adbace1b0c">3 - Task Management</h1>
    <div class="lead">This HOWTO demonstrates how to manage background tasks.</div>
	<p>Various
<a href="../../user-guide/jobs.md" title="Stroom Jobs">Tasks</a>
run in the background within Stroom. This HOWTO demonstrates how to manage these tasks</p>
<h2 id="assumptions">Assumptions</h2>
<ul>
<li>All Sections</li>
<li>an account with the <code>Administrator</code> Application <a href="../../user-guide/roles.md" title="Stroom Application Permissions">Permission</a> is currently logged in.</li>
<li>Proxy Aggregation Tasks</li>
<li>we have a multi node Stroom cluster with two nodes, <code>stroomp00</code> and <code>stroomp01</code>.</li>
<li>Stream Processor Tasks</li>
<li>we have a multi node Stroom cluster with two nodes, <code>stroomp00</code> and <code>stroomp01</code>.</li>
<li>when demonstrating adding a new node to an existing cluster, the new node is <code>stroomp02</code>.</li>
</ul>
<h2 id="proxy-aggregation">Proxy Aggregation</h2>
<h2 id="turn-off-proxy-aggregation">Turn Off Proxy Aggregation</h2>
<p>We first select the <code>Monitoring</code> item of the <strong>Main Menu</strong> to bring up the <code>Monitoring</code> sub-menu.</p>
<p><img src="../resources/UI-MonitoringSubmenu-00.png" alt="Stroom UI Node Management - Monitoring Menu" title="Stroom UI Monitoring sub-menu"></p>
<p>then move down and select the <code>Jobs</code> sub-item to be presented with the <code>Jobs</code> configuration tab as seen below.</p>
<p><img src="../resources/UI-JobsTab-00.png" alt="Stroom UI Jobs Management - Management Tab" title="Stroom UI Jobs Management - management tab"></p>
<p>At this we can select the <code>Proxy Aggregation</code> <em>Job</em> whose check-box is selected and the tab will show the individual Stroom Processor nodes
in the deployment.</p>
<p><img src="../resources/UI-ProxyAggregation-00.png" alt="Stroom UI Jobs Management - Proxy Aggregation Job" title="Stroom UI Jobs Management - Proxy Aggregation Job"></p>
<p>At this, uncheck the <code>Enabled</code> check-boxes for both nodes and also the main Proxy Aggregation check-box to see.</p>
<p><img src="../resources/UI-ProxyAggregation-01.png" alt="Stroom UI Jobs Management - Proxy Aggregation Job Off" title="Stroom UI Jobs Management - Proxy Aggregation Job Off"></p>
<p>At this point, no new proxy aggregation will occur and any inbound files received by the Store Proxies will accumulate in the proxy storage area.</p>
<h3 id="turn-on-proxy-aggregation">Turn On Proxy Aggregation</h3>
<p>We first select the <code>Monitoring</code> item of the <strong>Main Menu</strong> to bring up the <code>Monitoring</code> sub-menu.</p>
<p><img src="../resources/UI-MonitoringSubmenu-00.png" alt="Stroom UI Node Management - Monitoring Menu" title="Stroom UI Monitoring sub-menu"></p>
<p>then move down and select the <code>Jobs</code> sub-item then select the <code>Proxy Aggregation</code> <em>Job</em> to be presented with the <code>Jobs</code> configuration tab as seen below.</p>
<p><img src="../resources/UI-ProxyAggregation-01.png" alt="Stroom UI Jobs Management - Proxy Aggregation Job Off" title="Stroom UI Jobs Management - Proxy Aggregation Job Off"></p>
<p>Now, re-enable each node&rsquo;s <code>Proxy Aggregation</code> check-box and the main <code>Proxy Aggregation</code> check-box.</p>
<p>After checking the check-boxes, perform a refresh of the display by pressing
the <em>Refresh</em> icon <img src="../resources/icons/refresh.png" alt="Stroom UI Refresh" title="Stroom UI RefreshButton"></p>
<p>on the top right of the lower (node display) pane. You should note the <code>Last Executed</code> date/time change to see</p>
<p><img src="../resources/UI-TestProxyAggregation-00.png" alt="Stroom UI Test Feed - Re-enable Proxy Aggregation" title="Stroom UI Test Feed - Re-enable Proxy Aggregation">.</p>
<h2 id="stream-processors">Stream Processors</h2>
<h3 id="enable-stream-processors">Enable Stream Processors</h3>
<p>To enable the <code>Stream Processors</code> task, move to the <code>Monitoring</code> item of the <strong>Main Menu</strong> and select it to bring up the <code>Monitoring</code> sub-menu.</p>
<p><img src="../resources/UI-MonitoringSubmenu-00.png" alt="Stroom UI Node Management - Monitoring Menu" title="Stroom UI Monitoring sub-menu"></p>
<p>then move down and select the <code>Jobs</code> sub-item to be presented with the <code>Jobs</code> configuration tab as seen below.</p>
<p><img src="../resources/UI-NodeProcessors-00.png" alt="Stroom UI Jobs Management - Management Tab" title="Stroom UI Jobs Management - management tab"></p>
<p>At this, we select the <code>Stream Processor</code> <em>Job</em> whose check-box is not selected and the tab will show the individual Stroom Processor
nodes in the Stroom deployment.</p>
<p><img src="../resources/UI-NodeProcessors-01.png" alt="Stroom UI Jobs Management - Stream processor" title="Stroom UI Jobs Management - Stream Processor"></p>
<p>Clearly, if it was a single node Stroom deployment, you would only see the one node at the bottom of the <code>Jobs</code> configuration tab.</p>
<p>We enable nodes nodes by selecting their check-boxes as well as the main <code>Stream Processors</code> check-box. Do so.</p>
<p><img src="../resources/UI-NodeProcessors-02.png" alt="Stroom UI Jobs Management - Stream processor enabled" title="Stroom UI Jobs Management - Stream Processor enabled"></p>
<p>That is it. Stroom will automatically take note of these changes and internally start each node&rsquo;s Stroom Processor task.</p>
<h3 id="enable-stream-processors-on-new-node">Enable Stream Processors On New Node</h3>
<p>When one expands a Multi Node Stroom cluster deployment, after the installation of the Stroom Proxy and Application software and
services on the new node, we need to enable it&rsquo;s <code>Stream Processors</code> task.</p>
<p>To enable the <code>Stream Processors</code> for this new node, move to the <code>Monitoring</code> item of the <strong>Main Menu</strong> and select it to bring up the <code>Monitoring</code> sub-menu.</p>
<p><img src="../resources/UI-MonitoringSubmenu-00.png" alt="Stroom UI Node Management - Monitoring Menu" title="Stroom UI Monitoring sub-menu"></p>
<p>then move down and select the <code>Jobs</code> sub-item to be presented with the <code>Jobs</code> configuration tab as seen below.</p>
<p><img src="../resources/UI-NodeProcessors-00.png" alt="Stroom UI Jobs Management - Management Tab" title="Stroom UI Jobs Management - management tab"></p>
<p>At this we select the <code>Stream Processor</code> <em>Job</em> whose check-box is selected</p>
<p><img src="../resources/UI-NewNodeProcessors-00.png" alt="Stroom UI Jobs Management - Stream processor New Node" title="Stroom UI Jobs Management - Stream Processor new node"></p>
<p>We enable the new node by selecting it&rsquo;s check-box.</p>
<p><img src="../resources/UI-NewNodeProcessors-01.png" alt="Stroom UI Jobs Management - Stream processor New Node enabled" title="Stroom UI Jobs Management - Stream Processor enabled on new node"></p>

</div>



    
	
  



          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/gchq/stroom" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2021 Crown Copyright 2021 All Rights Reserved</small>
        
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>






 













<script src="/stroom-docs/hugo-docsy/js/main.min.3b172c13b62c2bea8b1c9d2599cddc8cf89718a92d792c680871c81ba43d8c85.js" integrity="sha256-OxcsE7YsK&#43;qLHJ0lmc3cjPiXGKkteSxoCHHIG6Q9jIU=" crossorigin="anonymous"></script>



<script src='/stroom-docs/hugo-docsy/js/prism.js'></script>



  </body>
</html>
